/**
 * Auto-generated API mocks for {{repository}}
 * Generated by Mock-Driven Testing Revolution
 */

const { rest } = require('msw');
const { setupServer } = require('msw/node');

// Mock data and handlers
const handlers = [
{{#each mocks}}
  rest.{{method}}('{{endpoint}}', (req, res, ctx) => {
    return res(
      ctx.status(200),
      ctx.json({{{json mockData}}})
    );
  }),
{{/each}}
];

// Setup mock server
const server = setupServer(...handlers);

// Test setup helpers
beforeAll(() => server.listen());
afterEach(() => server.resetHandlers());
afterAll(() => server.close());

// Export for custom usage
module.exports = {
  server,
  handlers,
  // Helper to override specific endpoints
  mockEndpoint: (method, endpoint, response) => {
    server.use(
      rest[method](endpoint, (req, res, ctx) => {
        return res(ctx.status(200), ctx.json(response));
      })
    );
  }
};